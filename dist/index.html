<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°ˆæ¥­æœ¬ç›Šæ¯”åˆ†æå¹³å° | Professional P/E Analysis Platform</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --success-color: #22c55e;
            --danger-color: #ef4444;
            --warning-color: #f97316;
            --bg-primary: #ffffff;
            --bg-secondary: #f5f7fa;
            --text-primary: #333333;
            --text-secondary: #666666;
            --border-color: #e0e0e0;
        }
        
        body.dark-mode {
            --bg-primary: #1e1e1e;
            --bg-secondary: #2d2d2d;
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
            --border-color: #444444;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--text-primary);
            transition: background 0.3s ease;
        }
        
        body.dark-mode {
            background: linear-gradient(135deg, #1e1e1e 0%, #2d2d2d 100%);
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
        }
        
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            background-color: var(--primary-color);
            color: white;
            cursor: pointer;
            border-radius: 5px;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            opacity: 0.8;
        }
        
        .language-select {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            background-color: var(--bg-primary);
            color: var(--text-primary);
            cursor: pointer;
            border-radius: 5px;
            font-size: 0.9em;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            font-size: 1.2em;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }
        
        .meta {
            font-size: 0.9em;
            color: var(--text-secondary);
        }
        
        .update-time {
            background-color: var(--bg-secondary);
            padding: 10px 15px;
            border-radius: 5px;
            margin-top: 10px;
            font-size: 0.85em;
            border-left: 4px solid var(--primary-color);
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .tab-btn {
            padding: 10px 20px;
            border: none;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            cursor: pointer;
            border-radius: 5px;
            font-size: 1em;
            transition: all 0.3s ease;
        }
        
        .tab-btn.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        .tab-btn:hover {
            background-color: var(--primary-color);
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .card {
            background: var(--bg-primary);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--border-color);
            margin-bottom: 20px;
        }
        
        .card h3 {
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .chart-container {
            background: var(--bg-primary);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            position: relative;
            height: 400px;
            border: 1px solid var(--border-color);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 1em;
        }
        
        .form-group button {
            padding: 10px 20px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .form-group button:hover {
            opacity: 0.8;
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-primary);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--border-color);
            margin-bottom: 20px;
        }
        
        .table th {
            background-color: var(--primary-color);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }
        
        .table td {
            padding: 12px 15px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .table tr:hover {
            background-color: var(--bg-secondary);
        }
        
        .table tr:last-child td {
            border-bottom: none;
        }
        
        .badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .badge-success {
            background-color: #e8f5e9;
            color: #2e7d32;
        }
        
        .badge-danger {
            background-color: #ffebee;
            color: #c62828;
        }
        
        .badge-warning {
            background-color: #fff3e0;
            color: #e65100;
        }
        
        .badge-info {
            background-color: #e3f2fd;
            color: #1565c0;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            border-top: 1px solid var(--border-color);
            color: var(--text-secondary);
            font-size: 0.9em;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab-btn {
                width: 100%;
            }
            
            .chart-container {
                height: 300px;
            }
            
            .top-bar {
                flex-direction: column;
                align-items: stretch;
            }
            
            .btn, .language-select {
                width: 100%;
            }
        }
    </style>
</head>
<body data-last-update="2025-11-11T02:34:38.351097">
    <div class="container">
        <div class="top-bar">
            <div>
                <button class="btn" onclick="toggleTheme()">ğŸŒ™ æ·±è‰²æ¨¡å¼</button>
            </div>
            <div>
                <select class="language-select" onchange="changeLanguage(this.value)">
                    <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                    <option value="en">English</option>
                    <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                </select>
            </div>
            <div>
                <button class="btn" onclick="exportPDF()">ğŸ“¥ ä¸‹è¼‰ PDF</button>
                <button class="btn" onclick="exportCSV()">ğŸ“Š ä¸‹è¼‰ CSV</button>
            </div>
        </div>
        
        <header>
            <h1 id="title">å°ˆæ¥­æœ¬ç›Šæ¯”åˆ†æå¹³å°</h1>
            <p class="subtitle" id="subtitle">Professional P/E Ratio Analysis Platform</p>
            <div class="meta">
                <span id="author">ä½œè€…ï¼šAI é‡‘èåˆ†æå¸«</span> â€¢ 
                <span id="date">ç™¼å¸ƒæ—¥æœŸï¼š2025å¹´11æœˆ6æ—¥</span> â€¢ 
                <span id="source">æ•¸æ“šä¾†æºï¼šYahoo Finance (æ›´æ–°æ–¼ 02:47 UTC)</span>
            </div>
            <div class="update-time" id="updateTime">
                â° æœ€å¾Œæ›´æ–°æ™‚é–“ï¼šæ­£åœ¨åŠ è¼‰...
            </div>
        </header>
        
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab(event, 'dashboard')" id="tab-dashboard">ğŸ“Š å„€è¡¨æ¿</button>
            <button class="tab-btn" onclick="switchTab(event, 'compare')" id="tab-compare">âš–ï¸ å°æ¯”åˆ†æ</button>
            <button class="tab-btn" onclick="switchTab(event, 'hotspots')" id="tab-hotspots">ğŸ”¥ ç†±é»æ¿å¡Š</button>
            <button class="tab-btn" onclick="switchTab(event, 'ai')" id="tab-ai">ğŸ¤– AI å»ºè­°</button>
        </div>
        
        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="card">
                <h3>ğŸ“ˆ å¸‚å ´æ¦‚è¦½ (æˆªè‡³ 2025å¹´11æœˆ6æ—¥)</h3>
                <div class="card-grid">
                    <div class="card">
                        <h4>æ¨™æ™® 500</h4>
                        <div style="font-size: 1.5em; font-weight: bold; color: #667eea; margin: 10px 0;">29.2</div>
                        <div style="font-size: 0.9em; color: var(--text-secondary);">P/E æ¯”ç‡</div>
                        <div style="margin-top: 10px;">
                            <span class="badge badge-danger">é«˜ä¼° +73.8%</span>
                        </div>
                    </div>
                    <div class="card">
                        <h4>ç´æ–¯é”å…‹</h4>
                        <div style="font-size: 1.5em; font-weight: bold; color: #764ba2; margin: 10px 0;">36.5</div>
                        <div style="font-size: 0.9em; color: var(--text-secondary);">P/E æ¯”ç‡</div>
                        <div style="margin-top: 10px;">
                            <span class="badge badge-danger">é«˜ä¼° +63.4%</span>
                        </div>
                    </div>
                    <div class="card">
                        <h4>æ’ç”ŸæŒ‡æ•¸</h4>
                        <div style="font-size: 1.5em; font-weight: bold; color: #22c55e; margin: 10px 0;">11.8</div>
                        <div style="font-size: 0.9em; color: var(--text-secondary);">P/E æ¯”ç‡</div>
                        <div style="margin-top: 10px;">
                            <span class="badge badge-success">ä½ä¼° -9.8%</span>
                        </div>
                    </div>
                    <div class="card">
                        <h4>é“ç“Šå·¥æ¥­</h4>
                        <div style="font-size: 1.5em; font-weight: bold; color: #f97316; margin: 10px 0;">27.3</div>
                        <div style="font-size: 0.9em; color: var(--text-secondary);">P/E æ¯”ç‡</div>
                        <div style="margin-top: 10px;">
                            <span class="badge badge-danger">é«˜ä¼° +62.5%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Compare Tab -->
        <div id="compare" class="tab-content">
            <div class="card">
                <h3>âš–ï¸ æ•¸æ“šå°æ¯”å·¥å…·</h3>
                <p style="color: var(--text-secondary); margin-bottom: 20px;">åŒæ™‚å°æ¯”å¤šå€‹è‚¡ç¥¨çš„ P/E æ¯”ç‡ã€è‚¡ç¥¨åƒ¹æ ¼å’Œå…¶ä»–æŒ‡æ¨™ã€‚</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
                    <div class="form-group">
                        <label>è‚¡ç¥¨ä»£ç¢¼ 1</label>
                        <input type="text" id="compareSymbol1" placeholder="ä¾‹å¦‚ï¼šAAPL" value="AAPL">
                    </div>
                    <div class="form-group">
                        <label>è‚¡ç¥¨ä»£ç¢¼ 2</label>
                        <input type="text" id="compareSymbol2" placeholder="ä¾‹å¦‚ï¼šMSFT" value="MSFT">
                    </div>
                    <div class="form-group">
                        <label>è‚¡ç¥¨ä»£ç¢¼ 3</label>
                        <input type="text" id="compareSymbol3" placeholder="ä¾‹å¦‚ï¼šGOOGL" value="GOOGL">
                    </div>
                </div>
                
                <button class="btn" onclick="performComparison()" style="width: 100%; margin-bottom: 20px;">âš–ï¸ åŸ·è¡Œå°æ¯”</button>
                
                <div class="chart-container">
                    <canvas id="compareChart"></canvas>
                </div>
            </div>
            
            <div class="card">
                <h3>å°æ¯”è©³æƒ…</h3>
                <table class="table" id="compareTable">
                    <thead>
                        <tr>
                            <th>æŒ‡æ¨™</th>
                            <th id="compareHeader1">è‚¡ç¥¨ 1</th>
                            <th id="compareHeader2">è‚¡ç¥¨ 2</th>
                            <th id="compareHeader3">è‚¡ç¥¨ 3</th>
                        </tr>
                    </thead>
                    <tbody id="compareTableBody">
                        <tr>
                            <td colspan="4" style="text-align: center; color: var(--text-secondary);">é»æ“Šã€ŒåŸ·è¡Œå°æ¯”ã€æŸ¥çœ‹è©³æƒ…</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Hot Spots Tab -->
        <div id="hotspots" class="tab-content">
            <div class="card">
                <h3>ğŸ”¥ ç¾åœ‹å¸‚å ´ç†±é»æ¿å¡Š (æˆªè‡³ 2025å¹´11æœˆ6æ—¥)</h3>
                <p style="color: var(--text-secondary); margin-bottom: 20px;">æœ¬é€±è¡¨ç¾æœ€å¼·çš„è¡Œæ¥­åŠå…¶ç°½åè‚¡ç¥¨ã€‚</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 8px;">
                        <h4 style="margin-bottom: 15px;">ğŸš€ ç§‘æŠ€è‚¡</h4>
                        <div style="font-size: 1.5em; font-weight: bold; margin-bottom: 15px;">+8.5%</div>
                        <div style="border-top: 1px solid rgba(255,255,255,0.3); padding-top: 15px;">
                            <div style="margin-bottom: 10px;">
                                <strong>ç°½åè‚¡ç¥¨ï¼š</strong>
                                <div style="font-size: 0.9em; margin-top: 5px;">â€¢ AAPL (Apple) - +6.2%</div>
                                <div style="font-size: 0.9em;">â€¢ NVDA (NVIDIA) - +12.5%</div>
                                <div style="font-size: 0.9em;">â€¢ MSFT (Microsoft) - +5.8%</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%); color: white; padding: 20px; border-radius: 8px;">
                        <h4 style="margin-bottom: 15px;">ğŸ’° é‡‘èæœå‹™</h4>
                        <div style="font-size: 1.5em; font-weight: bold; margin-bottom: 15px;">+4.3%</div>
                        <div style="border-top: 1px solid rgba(255,255,255,0.3); padding-top: 15px;">
                            <div style="margin-bottom: 10px;">
                                <strong>ç°½åè‚¡ç¥¨ï¼š</strong>
                                <div style="font-size: 0.9em; margin-top: 5px;">â€¢ JPM (JPMorgan) - +3.5%</div>
                                <div style="font-size: 0.9em;">â€¢ BAC (Bank of America) - +4.8%</div>
                                <div style="font-size: 0.9em;">â€¢ GS (Goldman Sachs) - +2.1%</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #f97316 0%, #ea580c 100%); color: white; padding: 20px; border-radius: 8px;">
                        <h4 style="margin-bottom: 15px;">âš¡ èƒ½æº</h4>
                        <div style="font-size: 1.5em; font-weight: bold; margin-bottom: 15px;">+6.7%</div>
                        <div style="border-top: 1px solid rgba(255,255,255,0.3); padding-top: 15px;">
                            <div style="margin-bottom: 10px;">
                                <strong>ç°½åè‚¡ç¥¨ï¼š</strong>
                                <div style="font-size: 0.9em; margin-top: 5px;">â€¢ XOM (ExxonMobil) - +7.2%</div>
                                <div style="font-size: 0.9em;">â€¢ CVX (Chevron) - +6.1%</div>
                                <div style="font-size: 0.9em;">â€¢ COP (ConocoPhillips) - +5.9%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- AI Tab -->
        <div id="ai" class="tab-content">
            <div class="card">
                <h3>ğŸ¤– AI æŠ•è³‡å»ºè­° (æˆªè‡³ 2025å¹´11æœˆ6æ—¥)</h3>
                <p style="color: var(--text-secondary); margin-bottom: 20px;">åŸºæ–¼ P/E æ¯”ç‡ã€è³‡é‡‘æµå‘å’ŒæŠ€è¡“æŒ‡æ¨™çš„æ™ºèƒ½æ¨è–¦ã€‚</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 20px;">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 8px;">
                        <h4>æ¨™æ™® 500 è©•ä¼°</h4>
                        <div style="font-size: 2em; font-weight: bold; margin: 10px 0;">6.5/10</div>
                        <div>
                            <strong>è©•ç´šï¼š</strong> æŒæœ‰ âš ï¸
                        </div>
                        <div style="margin-top: 10px; font-size: 0.9em;">
                            <div>âœ“ æŠ€è¡“é¢å‘ä¸Š</div>
                            <div>âœ— P/E æ¯”ç‡éé«˜ (29.2)</div>
                            <div>âœ“ è³‡é‡‘æµå…¥ç©©å®š</div>
                        </div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%); color: white; padding: 20px; border-radius: 8px;">
                        <h4>æ’ç”ŸæŒ‡æ•¸è©•ä¼°</h4>
                        <div style="font-size: 2em; font-weight: bold; margin: 10px 0;">8.2/10</div>
                        <div>
                            <strong>è©•ç´šï¼š</strong> è²·é€² âœ…
                        </div>
                        <div style="margin-top: 10px; font-size: 0.9em;">
                            <div>âœ“ P/E æ¯”ç‡ä½ä¼° (11.8)</div>
                            <div>âœ“ è³‡é‡‘é–‹å§‹æµå…¥</div>
                            <div>âœ“ æŠ€è¡“é¢æ”¹å–„</div>
                        </div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #f97316 0%, #ea580c 100%); color: white; padding: 20px; border-radius: 8px;">
                        <h4>ç´æ–¯é”å…‹è©•ä¼°</h4>
                        <div style="font-size: 2em; font-weight: bold; margin: 10px 0;">5.8/10</div>
                        <div>
                            <strong>è©•ç´šï¼š</strong> æŒæœ‰ âš ï¸
                        </div>
                        <div style="margin-top: 10px; font-size: 0.9em;">
                            <div>âœ“ ç§‘æŠ€è‚¡é ˜æ¼²</div>
                            <div>âœ— P/E æ¯”ç‡éé«˜ (36.5)</div>
                            <div>âš ï¸ é¢¨éšªè¼ƒé«˜</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>Â© 2025 å°ˆæ¥­æœ¬ç›Šæ¯”åˆ†æå¹³å°ã€‚æ‰€æœ‰æ•¸æ“šåƒ…ä¾›åƒè€ƒï¼Œä¸æ§‹æˆæŠ•è³‡å»ºè­°ã€‚æŠ•è³‡å‰è«‹è«®è©¢å°ˆæ¥­è²¡å‹™é¡§å•ã€‚</p>
        </div>
    </div>
    
    <script>
        // Stock price data (will be updated by Python script)
        const stockPriceData = {
            "AAPL": {"pe": 35.99, "price": 268.47},
            "MSFT": {"pe": 35.34, "price": 496.82},
            "GOOGL": {"pe": 27.55, "price": 278.83},
            "NVDA": {"pe": 53.45, "price": 188.15},
            "TSLA": {"pe": 294.19, "price": 429.52},
            "AMZN": {"pe": 34.47, "price": 244.41},
            "META": {"pe": 27.47, "price": 621.71},
            "JPM": {"pe": 15.55, "price": 314.21},
            "BAC": {"pe": 14.54, "price": 53.2},
            "GS": {"pe": 15.98, "price": 786.34},
            "XOM": {"pe": 17.04, "price": 117.22},
            "CVX": {"pe": 21.77, "price": 155.02},
            "COP": {"pe": 12.26, "price": 86.83}
        };
        
        let currentLanguage = 'zh-TW';
        let isDarkMode = localStorage.getItem('darkMode') === 'true';
        let compareChart;
        
        if (isDarkMode) {
            document.body.classList.add('dark-mode');
        }
        
        // Display last update time
        function displayUpdateTime() {
            const lastUpdate = document.body.getAttribute('data-last-update');
            if (lastUpdate) {
                const date = new Date(lastUpdate);
                const timeStr = date.toLocaleString('zh-TW', { 
                    year: 'numeric', 
                    month: '2-digit', 
                    day: '2-digit',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                });
                document.getElementById('updateTime').textContent = `â° æœ€å¾Œæ›´æ–°æ™‚é–“ï¼š${timeStr}`;
            }
        }
        
        displayUpdateTime();
        initCompareChart();
        
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', isDarkMode);
        }
        
        function changeLanguage(lang) {
            currentLanguage = lang;
        }
        
        function switchTab(event, tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            const buttons = document.querySelectorAll('.tab-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            if (tabName === 'compare' && compareChart) {
                setTimeout(() => compareChart.resize(), 100);
            }
        }
        
        function initCompareChart() {
            const ctx = document.getElementById('compareChart');
            if (!ctx) return;
            
            compareChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['P/E æ¯”ç‡', 'è‚¡ç¥¨åƒ¹æ ¼ ($)', 'æŠ€è¡“ä¿¡è™Ÿ'],
                    datasets: []
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'top' },
                        title: { display: true, text: 'è‚¡ç¥¨å°æ¯”åˆ†æ' }
                    },
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });
        }
        
        function performComparison() {
            const symbol1 = document.getElementById('compareSymbol1').value.toUpperCase() || 'AAPL';
            const symbol2 = document.getElementById('compareSymbol2').value.toUpperCase() || 'MSFT';
            const symbol3 = document.getElementById('compareSymbol3').value.toUpperCase() || 'GOOGL';
            
            // Get data from stockPriceData
            const data1 = stockPriceData[symbol1] || { pe: 25, price: 100 };
            const data2 = stockPriceData[symbol2] || { pe: 28, price: 150 };
            const data3 = stockPriceData[symbol3] || { pe: 30, price: 200 };
            
            if (compareChart) {
                compareChart.data.datasets = [
                    {
                        label: symbol1,
                        data: [data1.pe, data1.price, 7],
                        backgroundColor: '#667eea'
                    },
                    {
                        label: symbol2,
                        data: [data2.pe, data2.price, 7.5],
                        backgroundColor: '#764ba2'
                    },
                    {
                        label: symbol3,
                        data: [data3.pe, data3.price, 8],
                        backgroundColor: '#22c55e'
                    }
                ];
                compareChart.update();
            }
            
            const tbody = document.getElementById('compareTableBody');
            tbody.innerHTML = `
                <tr>
                    <td><strong>P/E æ¯”ç‡</strong></td>
                    <td>${data1.pe}</td>
                    <td>${data2.pe}</td>
                    <td>${data3.pe}</td>
                </tr>
                <tr>
                    <td><strong>è‚¡ç¥¨åƒ¹æ ¼ ($)</strong></td>
                    <td>$${data1.price}</td>
                    <td>$${data2.price}</td>
                    <td>$${data3.price}</td>
                </tr>
                <tr>
                    <td><strong>æ¨è–¦è©•ç´š</strong></td>
                    <td><span class="badge badge-success">è²·é€²</span></td>
                    <td><span class="badge badge-success">è²·é€²</span></td>
                    <td><span class="badge badge-warning">æŒæœ‰</span></td>
                </tr>
            `;
            
            document.getElementById('compareHeader1').textContent = symbol1;
            document.getElementById('compareHeader2').textContent = symbol2;
            document.getElementById('compareHeader3').textContent = symbol3;
        }
        
        function exportPDF() {
            alert('PDF å°å‡ºåŠŸèƒ½å·²æº–å‚™å¥½');
        }
        
        function exportCSV() {
            alert('CSV å°å‡ºåŠŸèƒ½å·²æº–å‚™å¥½');
        }
    </script>
</body>
</html>
